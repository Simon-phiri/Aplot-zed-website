
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" type="text/css" href="searchResults.css">
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />

  <!-- Leaflet JavaScript -->
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

  <!-- Leaflet Routing Machine Plugin -->
  <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>

  <title>Airplane Ticket Booking</title>

  <?php include 'session_check.php'; ?>

  <style>
    /* Ensure the body or container does not overflow */
    body, html {
      margin: 0;
      padding: 0;
      overflow-x: hidden; /* Prevent horizontal scrolling */
      background-color: #d6d1d1;
    }

    /* AI Icon Styling */
.ai-icon {
    display: flex;
    align-items: center;
    height: 90px;
    justify-content: center;
    margin-right: 10px; /* Adjust space between AI icon and logo */
    margin-left: 20px;r
    font-size: 20px; /* Small size for the icon */
    color: #fff; /* Icon color */
    cursor: pointer;
}

.ai-icon i {
    transition: transform 0.3s ease; /* Smooth transition for hover effect */
}

.ai-icon:hover i {
    transform: scale(1.2); /* Slightly enlarge the icon on hover */
}




.navbar ul {
    list-style: none;
    display: flex;
    align-items: center;
}

.navbar ul li {
    margin-left: 20px;
}



.navbar ul li a i {
    margin-right: 8px;
}

     
   nav {
  background: #8e8e92;
  height: auto; /* Let the height adjust based on content */
  width: 100%;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  position: fixed; /* Make the navbar fixed */
  top: 0;
  z-index: 999;
  display: flex; /* Use flexbox for alignment */
  justify-content: space-between; /* Align items within nav */
  align-items: center; /* Vertically center items */
}
.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  background-color: #fff;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  list-style: none;
  padding: 10px 0;
  margin: 0;
  border-radius: 5px;
  z-index: 1000;
  min-width: 150px;
}

.dropdown-menu li {
  padding: 5px 15px;
}

.dropdown-menu li a {
  text-decoration: none;
  color: #333;
  display: block;
}

.dropdown-menu li a:hover {
  background-color: #f5f5f5;
  color: #000;
}


    .logo-link {
      text-decoration: none;
    }

    .logo-link:hover {
      /* Override any unwanted hover styles here */
      color: inherit; /* Reset the color to inherit */
      background-color: transparent; /* Reset the background color to transparent */
    }

    label.logo {
      color: rgb(255, 255, 255);
      font-size: 45px; /* Adjusted font size */
      line-height: 100px;
      padding-left: 5%;
      margin-left: 10px;
      font-weight: bold;
      text-shadow: 2px 2px 4px rgba(0, 255, 234, 0.978); /* Added text shadow for depth */
      background: linear-gradient(45deg, #ff0099, rgb(255, 0, 0)); /* Added gradient background */
      -webkit-background-clip: text; /* Clip text to background */
      -webkit-text-fill-color: transparent; /* Make text transparent to show background */
      opacity: 0; /* Initially hide the logo */
      animation: slideFromLeft 5s ease-in-out forwards; /* Animation to slide from left to right */
    }

    @keyframes slideFromLeft {
  0% {
    transform: translateX(-100%);
    opacity: 0;
  }
  100% {
    transform: translateX(6px);
    opacity: 1;
  }
}


    nav ul {
  display: flex; /* Align list items horizontally */
  margin-right: 20px;
  padding: 0; /* Remove default padding */
  list-style: none; /* Remove bullets */
}

    nav ul li {
  margin: 0 5px;
}

    nav ul li a {
  color: white;
  padding: 7px 15px; /* Increase padding for better click area */
  border-radius: 8px;
  text-decoration: none;
  font-size: 20px;
  text-transform: uppercase;
}

    a.active,
    a:hover {
      background: rgb(182, 182, 188);
      transition: .9s;
      color: #0044ff;
    }

    .login {
      background-color: green;
      height: 45px;
      text-transform: lowercase;
      border-radius: 0%;
      font-weight: bold;
      font-family: monospace;
      font-size: 12px;
      padding-left: 25px;
      padding-right: 25px;
    }

    .login:hover {
      background-color: lightblue;
    }

    .checkbtn {
  font-size: 30px;
  color: white;
  display: none; /* Hidden by default, shown in mobile view */
}

@media (max-width: 768px) {
  nav ul {
    flex-direction: column; /* Stack items vertically on smaller screens */
    position: fixed;
    top: 100px;
    right: -100%;
    background: #8e8e92;
    width: 50%;
    height: 100vh;
    justify-content: flex-start;
    padding-top: 50px;
    transition: right 0.3s ease-in-out;
  }
  #check {
    height: 50%;
    width: 50%;
    margin-left: 50px;
  }

nav ul li {
    margin: 20px 0;
    text-align: center;
  }
}

/* Hero Section */
 .hero {
            background-image: url('https://images.unsplash.com/photo-1506748686214-e9df14d4d9d0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxMTc3MDZ8MHwxfGFsbHwxfHx8fHx8fHwxNjE4NzQ1OTM3&ixlib=rb-1.2.1&q=80&w=1080');
            background-size: cover;
            height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            position: relatve;
             margin-top: 7%;
        }

        .hero h1 {
            font-size: 3.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        }

        .hero p {
            font-size: 1.2rem;
            margin-top: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .btn-custom {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            transition: background-color 0.3s;

        }

        .btn-custom:hover {
            background-color: #0056b3;
        } 
    
/* Dark Mode Hero Styles */
body.dark-mode .hero {
    background-image: 
        linear-gradient(to bottom, rgba(10, 10, 10, 0.8), rgba(0, 0, 0, 0.9)), 
        url('https://images.unsplash.com/photo-1499914485622-c8aef9f58f6b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxMTc3MDZ8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&q=80&w=1080');
    filter: brightness(0.7) contrast(1.2); /* Improve brightness and contrast */
}

/* Dark Mode Button Styling */
body.dark-mode .btn-custom {
    background-color: #222; /* Dark background */
    color: #f0f0f0; /* Light text */
}

body.dark-mode .btn-custom:hover {
    background-color: #444; /* Lighter on hover */
    color: white;
}
    footer {
      background-color: #000000;
      color: white;
      display: flex;
      justify-content: space-between;
      padding: 20px 40px;
      align-items: center;
      flex-wrap: wrap; /* Allow wrapping on smaller screens */
    }

    /* Personal details section */
    footer .personal {
      text-align: left;
    }

    footer .personal p {
      margin: 5px 0;
      font-size: 14px;
      font-family: Arial, sans-serif;
    }

    footer .personal em {
      font-size: 12px;
      color: #cccccc; /* Light grey for the developer info */
    }

    /* Follow us section with social media icons */
    footer .followUs {
      display: flex;
      gap: 15px; /* Space between icons */
      align-items: center;
    }

    footer .followUs i {
      font-size: 20px;
      color: white;
      cursor: pointer;
      transition: color 0.3s ease;
    }

    footer .followUs i:hover {
      color: #008CBA; /* Change color on hover */
    }

    /* Footer links section */
    footer .footer-links {
      display: flex;
      gap: 20px;
      justify-content: center;
      text-align: left;
      flex-wrap: wrap; /* Allow wrapping on smaller screens */
    }

    footer .footer-links a {
      color: #ffffff;
      text-decoration: none;
      font-size: 14px;
    }

    footer .footer-links a:hover {
      text-decoration: underline;
    }

    .card {
  position: relative;
  cursor: pointer;
  transition: transform 0.3s ease;
  opacity: 1;
  pointer-events: auto;
}

.card:hover {
  transform: translateY(-10px);
}

.card .login-message {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 15px;
  border-radius: 10px;
  text-align: center;
  display: none; /* Hidden by default */
  z-index: 10;
}

.card.restricted {
  opacity: 0.7; /* Dim restricted cards */
  pointer-events: none; /* Disable interaction */
}

.card.restricted .login-message {
  display: block; /* Show message for restricted cards */
}

.card a {
  color: lightblue;
  text-decoration: underline;
}

.card a:hover {
  text-decoration: none;
}



    @media (max-width: 1024px) {
      .checkbtn {
        display: block;
      }

      nav ul {
        position: fixed;
        width: 60%;
        height: 100vh;
        background: #8e8e92e7; /* Set background color */
        top: 100px;
        left: -100%;
        text-align: left;
        transition: all .5s;
      }

      nav ul li {
        display: block;
        margin: 40px 0; /* Adjusted margin */
        line-height: 30px;
      }

      #check:checked~ul {
        left: 0;
      }
    }

    .logo-image img {
      width: 75%; /* Default for larger screens */
      height: 360PX;
      padding-top: 2%;
      display: block;
      margin: 0 auto;
    }

    /* Adjust width for smaller screens */
    @media (max-width: 1024px) {
      .logo-image img {
        width: 90%; /* Slightly larger for tablet screens */
      }
    }

    @media (max-width: 768px) {
      .logo-image img {
        width: 100%; /* Full width for mobile screens */
      }
    }

    /* CSS style for the form */
    .search-form {
      width: 80%; /* Adjust width as needed */
      height: auto;
      margin-left: 145px;
      background-color: #c5c5c5;
      border-radius: 5px;
      padding-top: 0px;
      border: 1px solid rgb(2px, 0, 0);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.7);
    }

    .search-bar {
      margin-top: 25px; /* Add margin to the top */
      display: flex;
      flex-wrap: wrap;
      margin-left: 20px;
      gap: 15px;
    }

    label {
      width: 60px; /* Adjust label width as needed */
      flex: 0 0 50px; /* Adjust label width as needed */
    }

    input, button {
      padding: 10px;
      border: 1px solid #000000;
      border-radius: 10px;
      font-size: 14px;
      height: 5px;
      width: calc(25% - 120px); /* Adjust input width for responsiveness */
      margin-top: 1%;
    }

    button {
      background-color: dodgerblue;
      color: white;
      cursor: pointer;
      font-size: 45px;
      transition: background-color 0.3s ease;
      padding: 30px;
    }

    button:hover {
      background-color: #d6d1d1;
      color: black;
      border-color: blue;
    }

    /* Center the "Search Flights" button */
    button[type="submit"] {
      width: auto; /* Set button width */
      margin-left: auto; /* Center button horizontally */
      margin-right: auto; /* Center button horizontally */
      text-align: center; /* Center text horizontally */
      height: 30px;
      font-size: 20px;
      padding-top: 6px;
      margin-bottom: 1%;
    }

    /* Media query for smaller screens */
    @media (max-width: 1024px) {
      .search-form {
        width: 90%; /* Adjust width for smaller screens */
      }

      label {
        flex: 0 0 50%; /* Make labels take full width on smaller screens */
      }

      input,
      button {
        width: calc(50% - 20px); /* Adjust input width for smaller screens */
      }

      button[type="submit"] {
        margin-left: 0; /* Remove left margin */
      }
    }
/* Dark mode styles */
body.dark-mode {
  background-color: #333333;
  color: #ffffff;
}

.dark-mode .navbar {
    background-color: #2c3e50; /* Cool dark color */
    color: #ecf0f1;
}

.dark-mode .navbar ul li a {
    color: #ecf0f1; /* Light color for dark mode */
}

.dark-mode .navbar .logo {
    color: #ecf0f1;
}

.dark-mode #theme-toggle i {
    color: #f1c40f; /* Change moon icon color to a yellowish tint */
}

/* Theme Toggle Button Style */
#theme-toggle {
    cursor: pointer;
    font-size: 20px;
    margin-left: auto;
}

/* Hover Effects */
.navbar ul li a:hover {
    color: #3498db; /* Light blue on hover */
}

.dark-mode .navbar ul li a:hover {
    color: #1abc9c; /* Light green hover for dark mode */
}



.dark-mode .search-form {
    background-color: #333;
    color: #fff;
}

.search-form input, .search-form button {
    margin-bottom: 10px;
}
#searchResults {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%; /* Adjust as needed */
    
    position: relative;
}

.loading-bar-container {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 120px; /* Adjust the size based on your SVG */
    height: 120px; /* Same as width for a square aspect ratio */
    position: absolute; /* Ensure it's positioned relative to the #searchResults div */
}


.search-form button {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px;
    cursor: pointer;

}

.search-form button:hover {
    background-color: #0056b3;
}

/* Circular Progress Bar Styles */
.circular-progress {
    position: relative;
    width: 120px;
    height: 120px;
    margin: 0 auto; /* Center the progress bar */
}

.progress-ring {
    transform: rotate(-90deg); /* Rotate to start the progress from the top */
}

.progress-ring__circle {
    stroke-dasharray: 314; /* Circumference of the circle */
    stroke-dashoffset: 314; /* Start with hidden progress */
    transition: stroke-dashoffset 3s ease-in-out; /* Smooth progress animation */
}

.loading-bar-container {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 20px;
}

@keyframes circular-loading {
    0% {
        stroke-dashoffset: 314;
    }
    100% {
        stroke-dashoffset: 0;
    }
}



nav.dark-mode {
  background-color: #444444;
}

/* Dark Mode Styles for Search Results */
.dark-mode #searchResults {
    background-color: #34495e; /* Dark, but lighter than the navbar for contrast */
    color: #ecf0f1; /* Light text for readability */
    border: 1px solid #1abc9c; /* A soft green border to make the results stand out */
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4); /* Subtle shadow for depth */
    margin-top: 20px;
}

.dark-mode #searchResults p {
    margin: 10px 0;
    padding: 10px;
    border-bottom: 1px solid #95a5a6; /* Light gray divider between results */
}

.dark-mode #searchResults p:last-child {
    border-bottom: none; /* Remove the divider from the last result */
}

/* Additional styling for links in search results */
.dark-mode #searchResults a {
    color: white; /* Light green links */
    text-decoration: none;
}

.dark-mode #searchResults a:hover {
    text-decoration: underline;
    color: #16a085; /* Slightly darker green on hover */
}

/* Style for the theme toggle button */
#theme-toggle i {
  font-size: 20px;
  color: white;
  cursor: pointer;
}

/* Change icon color on hover */
#theme-toggle:hover i {
  color: yellow;
}

/* Icon change for light and dark mode */
body.dark-mode #theme-toggle i {
  content: "\f185"; /* Sun icon for light mode */
}
    /* CSS styles for the card container and individual cards */
    .card-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center; /* Center align cards horizontally */
    }

    .card {
      text-decoration: none;
      width: 450px; /* Adjust the width of the card as needed */
      height: 120px;
      display: flex;
      margin-bottom: 20px;
      padding: 10px;
      border: 1px solid #0044ff;
      border-radius: 25px;
      flex-direction: column;
      align-items: center; /* Align card content to the top */
      transition: transform 0.3s ease; /* Add transition for smooth movement */
      color: #000000;
    }

    .card:hover {
      transform: translateY(-20px); /* Move the card up by 10px on hover */
    }

    .card img {
      height: 100px; /* Set the height of the image to match the height of the card */
      border-radius: 25px; /* Ensure the image follows the border radius of the card */
      width: 150px; /* Allow the image width to adjust automatically */
      align-self: flex-start; /* Align to the right */
    }

    /* Positioning for desktop screens */
    @media (min-width: 968px) {
      .card {
        position: relative; /* Relative positioning */
        left: 25px; /* Move the cards 50px away from the left margin */
      }
    }

    .card-content {
      flex: 1; /* Take up remaining space */
      display: flex;
      flex-direction: column;
      align-items: center; /* Center align card content */
      margin-top: -75px; /* Add margin to separate contents from the top */
    }

    .card-content h4 {
      margin: 0;
      font-weight: bold; /* Moved font weight */
      font-size: 20px; /* Moved font size */
    }

    .card-content p {
      margin: 0;
      padding-left: 300px;
      padding-bottom: 5px;
      line-height: 1.5;
    }

      .featured-destinations h2 {
  margin-left: 80px;
  background-color: cornflowerblue;
  padding: 20px;
  width: 85%;
  color: black;
  position: relative;
  text-align: center;
  
  /* Create a 30-degree angled clip on the bottom right */
  clip-path: polygon(0 0, 100% 0, 100% 60%, 30% 100%, 0 50%);
}


    /* Align the amount to bottom right */
    .amount {
      margin-top: auto; /* Align to the bottom */
      padding-right: 30px;
      font-size: 16px; /* Adjust font size if needed */
      align-self: flex-end; /* Align to the right */
      color: #000000;
      text-decoration: none;
    }

     .word {
  display: flex; /* Align icons and text horizontally */
  align-items: center; /* Vertically center icons and h1 */
  justify-content: center; /* Center the whole section */
  background-color: green;
  padding: 5px;
  font-size: 20px;
  font-weight: bold;
  font-family: monospace;
  color: linen;
  gap: 10px; /* Space between the icons and the h1 */
}

.word h1 {
  margin: 0 15px; /* Add some margin around the heading */
}

/* Customizing the popup */
.leaflet-popup-content-wrapper {
  background-color: #f9f9f9; /* Change the background color */
  border-radius: 10px; /* Rounded corners */
  padding: 10px; /* Add padding */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Add a shadow for a nicer look */
}

.leaflet-popup-content {
  margin: 5px; /* Adjust margin inside the popup */
  font-family: Arial, sans-serif;
  font-size: 14px;
  line-height: 1.5;
  color: #333; /* Change text color */
}

.leaflet-popup-tip {
  background-color: #f9f9f9; /* Match the background color of the popup */
}

.leaflet-routing-alt {
  background-color: #f2f2f2; /* Background color of the directions box */
  padding: 10px;
  margin-top: 10px;
  margin-right: 90px;
  border-radius: 5px;
}

.word i {
  font-size: 16px; /* Adjust icon size */
  color: white; /* Icon color */
}

/* For responsive adjustments on smaller screens */
@media (max-width: 768px) {
  .word {
    flex-direction: column; /* Stack icons and text vertically */
    gap: 5px; /* Reduce the gap between elements */
  }

  .word i {
    font-size: 14px; /* Adjust icon size for small screens */
  }
}


    .map {
      flex: 1;
      margin-right: auto;
      display: block;

    }

     /* Media query for laptop screens */
    @media (max-width: 1024px) {
      footer {
        flex-direction: column; /* Stack content vertically */
        text-align: center; /* Center align content */
      }

      footer .personal,
      footer .footer-links {
        margin: 10px 0; /* Add margin for spacing */
      }
    }

    /* Media query for smaller screens */
    @media (max-width: 768px) {
      /* Adjust layout on smaller screens */
      footer {
        flex-direction: column;
        text-align: center;
        padding: 15px;
      }

      footer .personal,
      footer .footer-links {
        text-align: center; /* Center align text */
      }

      footer .followUs {
        justify-content: center;
      }
    }

    /* Positioning the map for big screens */
    @media (min-width: 400px) {
      .map {
        width: 65%; /* Adjust width as needed */
        height: 450px; /* Set initial height */
        overflow: hidden; /* Ensure map doesn't overflow container */
        margin: 0 auto; /* Center the map horizontally */
        margin-top: -475px; /* Add some space between the map and other elements */
        margin-left: 510px;
      }
    }

    iframe {
      width: 59.8%;
      margin-top: -400px;
      margin-left: 40%;

    }

    /* Media query for smaller screens */
    @media (max-width: 768px) {
      /* Big display image */
      .logo-image {
        max-width: 100%; /* Make image responsive */
        width: 550px;
        padding-top: 90px; /* Adjust padding for better spacing */
      }

      /* Form */
      .search-form {
        width: 90%; /* Adjust width for smaller screens */
        margin-left: auto; /* Center align form */
        margin-right: auto; /* Center align form */
        margin-top: 20px; /* Adjust margin for better spacing */
      }

      .search-bar {
        flex-direction: column; /* Display form elements in a column */
        gap: 10px; /* Add gap between form elements */
      }

      input,
      button {
        width: 50%; /* Make inputs and buttons full width */
      }

      /* Card */
      .card {
        width: 90%; /* Adjust card width for smaller screens */
        margin-left: auto; /* Center align card */
        margin-right: auto; /* Center align card */
      }

      /* Map */
      .map {
        width: 100%; /* Make map full width */
        margin-top: 20px; /* Adjust margin for better spacing */
      }


      footer {
        width: 100%; /* Take full width */
        bottom: 0; /* Align footer to bottom */
        background-color: #000; /* Set background color */
        color: white; /* Set text color */
        text-align: center; /* Center align text */
        padding: 10px 0; /* Add padding for better spacing */
      }

      footer .personal {
        text-align: left; /* Center align text */     
      }
    }
  </style>
</head>

<body>

 <nav class="navbar">
    <!-- AI Icon Linked to AI Interface -->
    <div class="ai-icon">
        <a href="AI.php" title="AI Interface"><i class="fas fa-robot"></i></a>
    </div>

    <!-- Logo Section -->
    <div class="logo">
        <a href="index.html" class="logo-link">
            <label class="logo">APLOT</label>
        </a>
    </div>

    <ul>
        <li><a href="index.html" class="active"><i class="fas fa-home"></i> Home</a></li>
        <li><a href="bookingForm.php"><i class="fas fa-hotel"></i> Hotels</a></li>
        <li><a href="feedback.php"><i class="fas fa-comments"></i> Feedback</a></li>
        <li><a href="aboutUs.php"><i class="fas fa-users text-primary"></i> About Us</a></li>
        <li id="userOptions" class="dropdown">
          <a style="background-color: dodgerblue; color: white; font-size: 12px;" href="login-join.php">Login</a>
          <ul class="dropdown-menu" style="display: none;">

          </ul>
        </li>
        <li id="theme-toggle"><i class="fas fa-moon"></i></li>

    </ul>
</nav>



    <header class="hero">
        <div>
            <h1>Welcome to APLOT ✈️</h1>
            <p>Your journey begins with us. Explore flights, book tickets, and travel the world!</p>
            <a href="#features" class="btn btn-custom">Explore Now</a>
        </div>
    </header>

  <!-- Big display image -->
  <div class="logo-image">
    <hr>
    <img src="photos/logo.jpg" alt="Logo Display Image">
  </div>

  <br><br>

  <div class="body">
<!-- Search Form -->
<form id="searchForm" class="search-form">
  <div class="search-bar">
    <label for="from">From:</label>
    <input type="text" id="from" name="from" placeholder="Enter departure city" required>
    <label for="to">To:</label>
    <input type="text" id="to" name="to" placeholder="Enter arrival city" required>
    <label for="date">Departure Date:</label>
    <input type="date" id="departureDate" name="departureDate" required>
    <label for="date">Return Date:</label>
    <input type="date" id="returnDate" name="returnDate">
    <button type="submit"><i class="fas fa-search"></i>Search</button>
  </div>
</form>

<!-- Placeholder for displaying search results -->
<div id="searchResults">
  <!-- Circular Progress Bar inside searchResults div -->
  <div id="loadingBar" class="loading-bar-container" style="display: none;">
    <div class="circular-progress">
      <svg class="progress-ring" width="120" height="120">
        <circle class="progress-ring__circle" stroke="#1abc9c" stroke-width="10" fill="transparent" r="50" cx="60" cy="60"/>
      </svg>
    </div>
  </div>
</div>



</div>


    <section class="featured-destinations">
      <br>
      <h2>Explore Popular Destinations</h2>
<!-- Card for Livingstone -->
<div class="card" id="livingstone-card">
  <img src="Photos/Livstone.jfif" alt="Livingstone">
  <div class="card-content">
    <h4><i class="fas fa-city"></i> Livingstone</h4>
    <p><i class="far fa-calendar-alt"></i> Feb 29 - Mar 15</p>
    <p><i class="fas fa-plane-departure"></i> 1 stop 10hrs 40min</p>
  </div>
  <h5 class="amount"><i class="fas fa-coins"></i> ZMW 3,500</h5>
  <div class="login-message">
    <p>Please <a href="login.html">log in</a> to view this destination.</p>
  </div>
</div>

<!-- Card for Zambia -->
<div class="card" id="zambia-card">
  <img src="Photos/OIP.jfif" alt="Zambia">
  <div class="card-content">
    <h4><i class="fas fa-map-marked-alt"></i> Zambia</h4>
    <p><i class="far fa-calendar-alt"></i> Jul 01 - Jul 25</p>
    <p><i class="fas fa-plane-departure"></i> 1 stop 10hrs 40min</p>
  </div>
  <h5 class="amount"><i class="fas fa-coins"></i> ZMW 3,500</h5>
  <div class="login-message">
    <p>Please <a href="login.html">log in</a> to view this destination.</p>
  </div>
</div>

<!-- Card for Eastern Province -->
<div class="card" id="eastern-card">
  <img src="Photos/chipata.jfif" alt="Lower Zambezi National Park">
  <div class="card-content">
    <h4><i class="fas fa-map"></i> Eastern</h4>
    <p><i class="far fa-calendar-alt"></i> May 05 - Jun 02</p>
    <p><i class="fas fa-plane-departure"></i> 1 stop 10hrs 40min</p>
  </div>
  <h5 class="amount"><i class="fas fa-coins"></i> ZMW 18,000</h5>
  <div class="login-message">
    <p>Please <a href="login.html">log in</a> to view this destination.</p>
  </div>
</div>


      
      <div class="map">
  <div class="word">
    <!-- Three icons before the h1 -->
    <i class="fas fa-map-marker-alt"></i>
    <i class="fas fa-location-arrow"></i>
    <i class="fas fa-map"></i>
    
    <!-- The main heading -->
    <h1>View On Map</h1>

    <!-- Three icons after the h1 -->
    <i class="fas fa-globe"></i>
    <i class="fas fa-compass"></i>
    <i class="fas fa-directions"></i>
  </div>
</div>

        <!-- Map container -->
        <div id="map" style="height: 400px; width: 75%; margin-left: 30%; margin-top: -23%;"></div>
      </div>
    </section>
  </div>

  <section>
    <div class="notyet" style="background-color: #d6d1d1; height: 50px; margin-top: 25px;">
      
    </div>
  </section>

   <footer>
    <!-- Personal details -->
    <div class="personal">
      <p>&copy; APLOT 2024</p>
      <em>Dev by Simon</em>
    </div>

    <!-- Footer links -->
    <div class="footer-links">
      <a href="#about">About Us</a>
      <a href="#terms">Terms & Conditions</a>
      <a href="#privacy">Privacy Policy</a>
      <a href="#faq">FAQ</a>
      <a href="#contact">Contact Us</a>
    </div>

    <!-- Follow us section with social media icons -->
    <div class="followUs">
      <i class="fab fa-facebook"></i>
      <i class="fab fa-whatsapp"></i>
      <i class="fab fa-instagram"></i>
      <i class="fab fa-twitter"></i>
      <i class="fab fa-linkedin"></i>
    </div>
  </footer>

  <script>
document.addEventListener("DOMContentLoaded", () => {
    // --- Display User's Name from localStorage ---
    const userName = localStorage.getItem("userName"); // Retrieve user's name
    const userGreeting = document.getElementById("userGreeting"); // Greeting div
    const userNameSpan = document.getElementById("userName"); // Name span

    if (userName && userGreeting && userNameSpan) {
        userNameSpan.textContent = userName; // Display the name
        userGreeting.style.display = "block"; // Make the greeting visible
    }

    // --- Light/Dark Mode Toggle ---
    const themeToggle = document.getElementById("theme-toggle");
    const body = document.body;

    if (themeToggle) {
        // Check if dark mode was previously enabled
        if (localStorage.getItem("theme") === "dark") {
            body.classList.add("dark-mode");
            themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        }

        themeToggle.addEventListener("click", function () {
            body.classList.toggle("dark-mode");

            if (body.classList.contains("dark-mode")) {
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                localStorage.setItem("theme", "dark"); // Save preference
            } else {
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                localStorage.setItem("theme", "light");
            }

            setMapTiles(); // Update the map tiles
        });
    }

    // --- Map Initialization and Route Display ---
    const mapElement = document.getElementById("map");
    if (mapElement) {
        const map = L.map(mapElement).setView([-13.1339, 27.8493], 6);

        function setMapTiles() {
            const isDarkMode = body.classList.contains("dark-mode");
            const tileLayerUrl = isDarkMode
                ? "https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png" // Dark map tiles
                : "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"; // Light map tiles

            // Remove existing layers and add the new one
            map.eachLayer((layer) => {
                if (layer instanceof L.TileLayer) {
                    map.removeLayer(layer);
                }
            });

            L.tileLayer(tileLayerUrl, {
                attribution:
                    '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
            }).addTo(map);
        }

        setMapTiles(); // Set initial map tiles

        let routingControl;

        function showRoute(city, lat, lon) {
            if (routingControl) {
                map.removeControl(routingControl);
            }

            routingControl = L.Routing.control({
                waypoints: [
                    L.latLng(-15.3875, 28.3228), // Lusaka
                    L.latLng(lat, lon), // Destination city
                ],
                routeWhileDragging: false,
                draggableWaypoints: false,
            }).addTo(map);

            map.setView([-15.3875, 28.3228], 7); // Zoom in to Lusaka
        }

        function hideRoute() {
            if (routingControl) {
                map.removeControl(routingControl);
            }
            map.setView([-13.1339, 27.8493], 7); // Reset zoom
        }
    }

    // --- Loading Bar and Search Functionality ---
    const searchForm = document.getElementById("searchForm");
    const searchResults = document.getElementById("searchResults");

    if (searchForm && searchResults) {
        const showLoadingBar = () => {
            searchResults.innerHTML =
                '<div class="loading-bar">Loading...</div>'; // Show loading bar
        };

        const hideLoadingBar = () => {
            searchResults.innerHTML = ""; // Hide loading bar
        };

        const performSearch = (event) => {
            event.preventDefault(); // Prevent page reload
            showLoadingBar();

            setTimeout(() => {
                hideLoadingBar();
                displaySearchResults();
            }, 3000); // Simulated delay
        };

        const displaySearchResults = () => {
            searchResults.innerHTML = "<p>Search results go here...</p>";
        };

        searchForm.addEventListener("submit", performSearch);
    }

    // --- Restrict Access to Cards for Unauthenticated Users ---
    const cards = document.querySelectorAll(".card");
    const isLoggedIn = localStorage.getItem("isLoggedIn"); // Check login state

    cards.forEach((card) => {
        if (!isLoggedIn) {
            card.classList.add("restricted"); // Add restricted class
        } else {
            card.classList.remove("restricted"); // Remove restriction
            card.addEventListener("click", () => {
                // Redirect to respective detail page based on card ID
                const destination = card.id.replace("-card", "");
                window.location.href = `details${destination}.html`;
            });
        }
    });

    // --- Dropdown Menu Toggle ---
    const userOptions = document.querySelector("#userOptions");
    if (userOptions) {
        const dropdownMenu = userOptions.querySelector(".dropdown-menu");
        const toggleButton = userOptions.querySelector(".login-toggle");

        if (dropdownMenu && toggleButton) {
            toggleButton.addEventListener("click", (e) => {
                e.preventDefault();
                dropdownMenu.style.display =
                    dropdownMenu.style.display === "block" ? "none" : "block";
            });

            document.addEventListener("click", (e) => {
                if (!userOptions.contains(e.target)) {
                    dropdownMenu.style.display = "none";
                }
            });
        }
    }
});
</script>


<script src="search.js"></script>
<script src="progressBar.js"></script>
<script src="nameDisplay.js"></script>
</body>
</html>
